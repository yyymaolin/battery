{"remainingRequest":"D:\\Desktop\\Django\\fe_admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\Django\\fe_admin\\src\\views\\monitor\\service\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\Desktop\\Django\\fe_admin\\src\\views\\monitor\\service\\index.vue","mtime":1695288475460},{"path":"D:\\Desktop\\Django\\fe_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698226179476},{"path":"D:\\Desktop\\Django\\fe_admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1698226183223},{"path":"D:\\Desktop\\Django\\fe_admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1698226179476},{"path":"D:\\Desktop\\Django\\fe_admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1698226183228}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRUNoYXJ0cyBmcm9tICd2dWUtZWNoYXJ0cycNCmltcG9ydCAnZWNoYXJ0cy1nbCcNCmltcG9ydCAnZWNoYXJ0cy9saWIvY2hhcnQvYmFyJw0KaW1wb3J0ICdlY2hhcnRzL2xpYi9jb21wb25lbnQvdG9vbHRpcCcNCmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJw0KaW1wb3J0IHsgZ2V0U2VydmljZSB9IGZyb20gJ0AvYXBpL21vbml0b3Ivc2VydmljZScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1NlcnZpY2UnLA0KICBjb21wb25lbnRzOiB7ICd2LWNoYXJ0JzogRUNoYXJ0cyB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB3ZWJzb2NrOiBudWxsLA0KICAgICAgbW9uaXRvcjogbnVsbCwgLy8g55uR5o6n5a6a5pe25ZmoDQogICAgICBzZXJ2aWNlOiB7DQogICAgICAgICdwbGF0Zm9ybSc6ICcnLA0KICAgICAgICAnaXAnOiAnJw0KICAgICAgfSwNCiAgICAgIHNlcnZpY2VfZGF0YTogew0KICAgICAgICAnY3B1Jzogew0KICAgICAgICAgICdwZXJjZW50JzogMCwNCiAgICAgICAgICAnY291bnQnOiAnJw0KICAgICAgICB9LA0KICAgICAgICAnbWVtJzogew0KICAgICAgICAgICdwZXJjZW50JzogMCwNCiAgICAgICAgICAndG90YWwnOiAnJywNCiAgICAgICAgICAnZnJlZSc6ICcnLA0KICAgICAgICAgICd1c2VkJzogJycNCiAgICAgICAgfSwNCiAgICAgICAgJ2Rpc2snOiB7DQogICAgICAgICAgJ3BlcmNlbnQnOiAwLA0KICAgICAgICAgICd0b3RhbCc6ICcnLA0KICAgICAgICAgICdmcmVlJzogJycsDQogICAgICAgICAgJ3VzZWQnOiAnJw0KICAgICAgICB9LA0KICAgICAgICAnc3lzJzogew0KICAgICAgICAgICdydW5fdGltZSc6ICcnDQogICAgICAgIH0sDQogICAgICAgICd0aW1lJzogew0KICAgICAgICAgICdkYXRlJzogJycsDQogICAgICAgICAgJ3RpbWUnOiAnJw0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgY3B1SW5mbzogew0KICAgICAgICB0b29sdGlwOiB7DQogICAgICAgICAgdHJpZ2dlcjogJ2F4aXMnDQogICAgICAgIH0sDQogICAgICAgIHhBeGlzOiB7DQogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywNCiAgICAgICAgICBib3VuZGFyeUdhcDogZmFsc2UsDQogICAgICAgICAgZGF0YTogW10NCiAgICAgICAgfSwNCiAgICAgICAgeUF4aXM6IHsNCiAgICAgICAgICB0eXBlOiAndmFsdWUnLA0KICAgICAgICAgIG1pbjogMCwNCiAgICAgICAgICBtYXg6IDEwMCwNCiAgICAgICAgICBpbnRlcnZhbDogMjANCiAgICAgICAgfSwNCiAgICAgICAgc2VyaWVzOiBbew0KICAgICAgICAgIGRhdGE6IFtdLA0KICAgICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgICBhcmVhU3R5bGU6IHsNCiAgICAgICAgICAgIG5vcm1hbDogew0KICAgICAgICAgICAgICBjb2xvcjogJ3JnYigzMiwgMTYwLCAyNTUpJyAvLyDmlLnlj5jljLrln5/popzoibINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGl0ZW1TdHlsZTogew0KICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgIGNvbG9yOiAnIzZmYmFlMScsDQogICAgICAgICAgICAgIGxpbmVTdHlsZTogew0KICAgICAgICAgICAgICAgIGNvbG9yOiAnIzZmYmFlMScgLy8g5pS55Y+Y5oqY57q/6aKc6ImyDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH1dDQogICAgICB9LA0KICAgICAgbWVtSW5mbzogew0KICAgICAgICB0b29sdGlwOiB7DQogICAgICAgICAgdHJpZ2dlcjogJ2F4aXMnDQogICAgICAgIH0sDQogICAgICAgIHhBeGlzOiB7DQogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywNCiAgICAgICAgICBib3VuZGFyeUdhcDogZmFsc2UsDQogICAgICAgICAgZGF0YTogW10NCiAgICAgICAgfSwNCiAgICAgICAgeUF4aXM6IHsNCiAgICAgICAgICB0eXBlOiAndmFsdWUnLA0KICAgICAgICAgIG1pbjogMCwNCiAgICAgICAgICBtYXg6IDEwMCwNCiAgICAgICAgICBpbnRlcnZhbDogMjANCiAgICAgICAgfSwNCiAgICAgICAgc2VyaWVzOiBbew0KICAgICAgICAgIGRhdGE6IFtdLA0KICAgICAgICAgIHR5cGU6ICdsaW5lJywNCiAgICAgICAgICBhcmVhU3R5bGU6IHsNCiAgICAgICAgICAgIG5vcm1hbDogew0KICAgICAgICAgICAgICBjb2xvcjogJ3JnYigzMiwgMTYwLCAyNTUpJyAvLyDmlLnlj5jljLrln5/popzoibINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIGl0ZW1TdHlsZTogew0KICAgICAgICAgICAgbm9ybWFsOiB7DQogICAgICAgICAgICAgIGNvbG9yOiAnIzZmYmFlMScsDQogICAgICAgICAgICAgIGxpbmVTdHlsZTogew0KICAgICAgICAgICAgICAgIGNvbG9yOiAnIzZmYmFlMScgLy8g5pS55Y+Y5oqY57q/6aKc6ImyDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH1dDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuaW5pdFdlYlNvY2tldCgpDQogICAgdGhpcy5nZXRTZXJ2aWNlKCkNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBjb25zdCBjcHVMaW5lID0gdGhpcy4kcmVmcy5jcHVMaW5lDQogICAgY29uc3QgbWVtTGluZSA9IHRoaXMuJHJlZnMubWVtTGluZQ0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7DQogICAgICBjcHVMaW5lLnJlc2l6ZSgpDQogICAgICBtZW1MaW5lLnJlc2l6ZSgpDQogICAgfSkNCiAgfSwNCiAgZGVzdHJveWVkKCkgew0KICAgIC8vIOa4hemZpOWumuaXtuWZqA0KICAgIGlmICh0aGlzLm1vbml0b3IpIHsNCiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5tb25pdG9yKQ0KICAgIH0NCiAgICAvLyDlhbPpl61zb2NrZXQNCiAgICBpZiAodGhpcy53ZWJzb2NrKSB7DQogICAgICB0aGlzLndlYnNvY2suY2xvc2UoKQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFNlcnZpY2UoKSB7DQogICAgICBnZXRTZXJ2aWNlKCkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLnNlcnZpY2UgPSByZXMuZGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGluaXRXZWJTb2NrZXQoKSB7IC8vIOWIneWni+WMlndlb3NvY2tldA0KICAgICAgY29uc3Qgd3N1cmkgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1dTX0FQSSArICcvbW9uaXRvci9zZXJ2aWNlP3Rva2VuPScgKyBnZXRUb2tlbigpDQogICAgICB0aGlzLndlYnNvY2sgPSBuZXcgV2ViU29ja2V0KHdzdXJpKQ0KICAgICAgdGhpcy53ZWJzb2NrLm9ubWVzc2FnZSA9IHRoaXMud2Vic29ja2V0b25tZXNzYWdlDQogICAgICB0aGlzLndlYnNvY2sub25vcGVuID0gdGhpcy53ZWJzb2NrZXRvbm9wZW4NCiAgICAgIHRoaXMud2Vic29jay5vbmVycm9yID0gdGhpcy53ZWJzb2NrZXRvbmVycm9yDQogICAgICB0aGlzLndlYnNvY2sub25jbG9zZSA9IHRoaXMud2Vic29ja2V0Y2xvc2UNCiAgICB9LA0KICAgIHdlYnNvY2tldG9ub3BlbigpIHsgLy8g6L+e5o6l5bu656uL5LmL5ZCO5omn6KGMc2VuZOaWueazleWPkemAgeaVsOaNrg0KICAgICAgY29uc3QgZGF0YSA9IHsgJ3Rvbmtlbic6IGdldFRva2VuKCkgfQ0KICAgICAgdGhpcy5tb25pdG9yID0gc2V0SW50ZXJ2YWwodGhpcy53ZWJzb2NrZXRzZW5kLCAyMDAwLCBKU09OLnN0cmluZ2lmeShkYXRhKSkNCiAgICB9LA0KICAgIHdlYnNvY2tldG9uZXJyb3IoKSB7IC8vIOi/nuaOpeW7uueri+Wksei0pemHjei/ng0KICAgICAgdGhpcy5pbml0V2ViU29ja2V0KCkNCiAgICB9LA0KICAgIHdlYnNvY2tldG9ubWVzc2FnZShlKSB7IC8vIOaVsOaNruaOpeaUtg0KICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKQ0KICAgICAgdGhpcy5zZXJ2aWNlX2RhdGEgPSBkYXRhDQogICAgICAvLyDmt7vliqBlY2hhcnRz5pWw5o2uLOS4lOacgOWkmjjkuKoNCiAgICAgIGlmICh0aGlzLmNwdUluZm8ueEF4aXMuZGF0YS5sZW5ndGggPj0gOCkgew0KICAgICAgICB0aGlzLmNwdUluZm8ueEF4aXMuZGF0YS5zaGlmdCgpDQogICAgICAgIHRoaXMubWVtSW5mby54QXhpcy5kYXRhLnNoaWZ0KCkNCiAgICAgICAgdGhpcy5jcHVJbmZvLnNlcmllc1swXS5kYXRhLnNoaWZ0KCkNCiAgICAgICAgdGhpcy5tZW1JbmZvLnNlcmllc1swXS5kYXRhLnNoaWZ0KCkNCiAgICAgIH0NCiAgICAgIHRoaXMuY3B1SW5mby54QXhpcy5kYXRhLnB1c2goZGF0YS50aW1lLnRpbWUpDQogICAgICB0aGlzLm1lbUluZm8ueEF4aXMuZGF0YS5wdXNoKGRhdGEudGltZS50aW1lKQ0KICAgICAgdGhpcy5jcHVJbmZvLnNlcmllc1swXS5kYXRhLnB1c2gocGFyc2VGbG9hdChkYXRhLmNwdS5wZXJjZW50KSkNCiAgICAgIHRoaXMubWVtSW5mby5zZXJpZXNbMF0uZGF0YS5wdXNoKHBhcnNlRmxvYXQoZGF0YS5tZW0ucGVyY2VudCkpDQogICAgfSwNCiAgICB3ZWJzb2NrZXRzZW5kKERhdGEpIHsgLy8g5pWw5o2u5Y+R6YCBDQogICAgICB0aGlzLndlYnNvY2suc2VuZChEYXRhKQ0KICAgIH0sDQogICAgd2Vic29ja2V0Y2xvc2UoZSkgeyAvLyDlhbPpl60NCiAgICAgIGNvbnNvbGUubG9nKCfmlq3lvIDov57mjqUnLCBlKQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/monitor/service","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-row>\r\n      <el-col>\r\n        <el-card class=\"box-card\">\r\n          <svg-icon icon-class=\"system\" style=\"margin-right: 5px\" />\r\n          <span>\r\n            系统：{{ service.platform }}\r\n          </span>\r\n          <span>\r\n            IP：{{ service.ip }}\r\n          </span>\r\n          <span v-if=\"service_data.time.date\">\r\n            系统时间: {{ service_data.time.date }} {{ service_data.time.time }}\r\n          </span>\r\n          <span>\r\n            项目已不间断运行：{{ service_data.sys.run_time }}\r\n          </span>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    <el-row>\r\n      <el-card class=\"box-card\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span style=\"font-weight: bold;color: #666;font-size: 18px\">状态</span>\r\n        </div>\r\n        <el-col :span=\"8\">\r\n          <div class=\"title\">CPU使用率</div>\r\n          <div class=\"title\">\r\n            <el-progress type=\"circle\" :percentage=\"service_data.cpu.percent\" />\r\n          </div>\r\n          <div class=\"title\">{{ service_data.cpu.count }}</div>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <div class=\"title\">内存使用率</div>\r\n          <div class=\"title\">\r\n            <el-progress type=\"circle\" :percentage=\"service_data.mem.percent\" />\r\n          </div>\r\n          <div v-if=\"service_data.mem.used\" class=\"title\">{{ service_data.mem.used }} / {{ service_data.mem.total }}</div>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <div class=\"title\">磁盘使用率</div>\r\n          <div class=\"title\">\r\n            <el-progress type=\"circle\" :percentage=\"service_data.disk.percent\" />\r\n          </div>\r\n          <div v-if=\"service_data.disk.used\" class=\"title\">{{ service_data.disk.used }} / {{ service_data.disk.total }}</div>\r\n        </el-col>\r\n      </el-card>\r\n    </el-row>\r\n    <el-row :gutter=\"5\">\r\n      <el-col :span=\"12\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span style=\"font-weight: bold;color: #666;font-size: 18px\">CPU使用率监控</span>\r\n          </div>\r\n          <v-chart ref=\"cpuLine\" :options=\"cpuInfo\" />\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-card class=\"box-card\">\r\n          <div slot=\"header\" class=\"clearfix\">\r\n            <span style=\"font-weight: bold;color: #666;font-size: 18px\">内存使用率监控</span>\r\n          </div>\r\n          <div style=\"width: 100%\">\r\n            <v-chart ref=\"memLine\" :options=\"memInfo\" />\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ECharts from 'vue-echarts'\r\nimport 'echarts-gl'\r\nimport 'echarts/lib/chart/bar'\r\nimport 'echarts/lib/component/tooltip'\r\nimport { getToken } from '@/utils/auth'\r\nimport { getService } from '@/api/monitor/service'\r\nexport default {\r\n  name: 'Service',\r\n  components: { 'v-chart': ECharts },\r\n  data() {\r\n    return {\r\n      websock: null,\r\n      monitor: null, // 监控定时器\r\n      service: {\r\n        'platform': '',\r\n        'ip': ''\r\n      },\r\n      service_data: {\r\n        'cpu': {\r\n          'percent': 0,\r\n          'count': ''\r\n        },\r\n        'mem': {\r\n          'percent': 0,\r\n          'total': '',\r\n          'free': '',\r\n          'used': ''\r\n        },\r\n        'disk': {\r\n          'percent': 0,\r\n          'total': '',\r\n          'free': '',\r\n          'used': ''\r\n        },\r\n        'sys': {\r\n          'run_time': ''\r\n        },\r\n        'time': {\r\n          'date': '',\r\n          'time': ''\r\n        }\r\n      },\r\n      cpuInfo: {\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          boundaryGap: false,\r\n          data: []\r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          min: 0,\r\n          max: 100,\r\n          interval: 20\r\n        },\r\n        series: [{\r\n          data: [],\r\n          type: 'line',\r\n          areaStyle: {\r\n            normal: {\r\n              color: 'rgb(32, 160, 255)' // 改变区域颜色\r\n            }\r\n          },\r\n          itemStyle: {\r\n            normal: {\r\n              color: '#6fbae1',\r\n              lineStyle: {\r\n                color: '#6fbae1' // 改变折线颜色\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      },\r\n      memInfo: {\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          boundaryGap: false,\r\n          data: []\r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          min: 0,\r\n          max: 100,\r\n          interval: 20\r\n        },\r\n        series: [{\r\n          data: [],\r\n          type: 'line',\r\n          areaStyle: {\r\n            normal: {\r\n              color: 'rgb(32, 160, 255)' // 改变区域颜色\r\n            }\r\n          },\r\n          itemStyle: {\r\n            normal: {\r\n              color: '#6fbae1',\r\n              lineStyle: {\r\n                color: '#6fbae1' // 改变折线颜色\r\n              }\r\n            }\r\n          }\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.initWebSocket()\r\n    this.getService()\r\n  },\r\n  mounted() {\r\n    const cpuLine = this.$refs.cpuLine\r\n    const memLine = this.$refs.memLine\r\n    window.addEventListener('resize', () => {\r\n      cpuLine.resize()\r\n      memLine.resize()\r\n    })\r\n  },\r\n  destroyed() {\r\n    // 清除定时器\r\n    if (this.monitor) {\r\n      clearInterval(this.monitor)\r\n    }\r\n    // 关闭socket\r\n    if (this.websock) {\r\n      this.websock.close()\r\n    }\r\n  },\r\n  methods: {\r\n    getService() {\r\n      getService().then(res => {\r\n        this.service = res.data\r\n      })\r\n    },\r\n    initWebSocket() { // 初始化weosocket\r\n      const wsuri = process.env.VUE_APP_WS_API + '/monitor/service?token=' + getToken()\r\n      this.websock = new WebSocket(wsuri)\r\n      this.websock.onmessage = this.websocketonmessage\r\n      this.websock.onopen = this.websocketonopen\r\n      this.websock.onerror = this.websocketonerror\r\n      this.websock.onclose = this.websocketclose\r\n    },\r\n    websocketonopen() { // 连接建立之后执行send方法发送数据\r\n      const data = { 'tonken': getToken() }\r\n      this.monitor = setInterval(this.websocketsend, 2000, JSON.stringify(data))\r\n    },\r\n    websocketonerror() { // 连接建立失败重连\r\n      this.initWebSocket()\r\n    },\r\n    websocketonmessage(e) { // 数据接收\r\n      const data = JSON.parse(e.data)\r\n      this.service_data = data\r\n      // 添加echarts数据,且最多8个\r\n      if (this.cpuInfo.xAxis.data.length >= 8) {\r\n        this.cpuInfo.xAxis.data.shift()\r\n        this.memInfo.xAxis.data.shift()\r\n        this.cpuInfo.series[0].data.shift()\r\n        this.memInfo.series[0].data.shift()\r\n      }\r\n      this.cpuInfo.xAxis.data.push(data.time.time)\r\n      this.memInfo.xAxis.data.push(data.time.time)\r\n      this.cpuInfo.series[0].data.push(parseFloat(data.cpu.percent))\r\n      this.memInfo.series[0].data.push(parseFloat(data.mem.percent))\r\n    },\r\n    websocketsend(Data) { // 数据发送\r\n      this.websock.send(Data)\r\n    },\r\n    websocketclose(e) { // 关闭\r\n      console.log('断开连接', e)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n ::v-deep .box-card {\r\n    margin-bottom: 5px;\r\n    span {\r\n      margin-right: 40px;\r\n    }\r\n  }\r\n.title {\r\n    text-align: center;\r\n    margin: 10px 0\r\n  }\r\n.echarts{\r\n    width: 100%;\r\n    min-width: 400px;\r\n}\r\n</style>\r\n"]}]}